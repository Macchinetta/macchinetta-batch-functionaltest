= 入力チェックの機能試験
:table-caption!:
:icons: font
:sectnums!:

== テストケース
テストケースクラス：jp.co.ntt.fw.macchinetta.batch.functionaltest.chxxx.XXXSpec

[cols="5,25a,70a", options="headers"]
.テストケース一覧
|===
|項番
|テストケース
|確認事項

|1
|<<validation>>
|
* 入力チェックの実施
** ルールの定義
*** ここでは単項目・相関項目を観点とした試験は実施しない
** チェックの実施
* 入力チェックのエラーハンドリング
** 処理の打ち切り
** 処理の継続
** 処理の継続（エラーメッセージの出力）
* 入力チェック用の終了コードを設定する観点は対象外とする
** 終了コードに関する試験は、ジョブの管理を参照

|===

== 試験項目一覧
各試験の項目一覧を示す。

:sectnums:
:leveloffset: -1

[[validation]]
=== 入力チェックのテスト
入力チェックを確認する。

[cols="5,20,25a,25a,25a", options="header"]
.試験項目一覧
|===
|項番
|観点
|試験項目
|試験条件
|確認内容

|1
|異常系 +
同期型起動
|入力チェックの実施 +
処理の打ち切り
|
* チャンクモデルで入力チェックを行うジョブを実行する
** 入力データをDBへ登録する処理とする
* 入力チェックエラーが発生した場合は、入力チェック例外をスローする
* @OnProcessErrorにてエラーログを出力する

|
* ジョブが異常終了すること
* ログ出力により、入力チェックエラーが発生したこと
** 入力チェックエラーデータを含むチャンクより前のデータが更新されていること

|2
|異常系 +
同期型起動
|入力チェックの実施 +
処理の継続
|
* チャンクモデルで入力チェックを行うジョブを実行する
** 入力データをDBへ登録する処理とする
* 入力チェックエラーが発生した場合は、ログを出力し処理を継続する
** 入力チェックエラーデータは、後続処理では処理対象外とする
|
* ジョブが正常終了すること
* ログ出力により、入力チェックエラーが発生したこと
* DBより、入力チェックエラーが登録されていないこと

|3
|異常系 +
同期型起動
|入力チェックの実施 +
処理の継続（エラーメッセージの出力）
|
* チャンクモデルで入力チェックを行うジョブを実行する
** 入力データをDBへ登録する処理とする
* 入力チェックエラーが発生した場合は、エラーメッセージとログを出力し処理を継続する
** 入力チェックエラーデータは、後続処理では処理対象外とする
|
* ジョブが正常終了すること
* ログ出力により、入力チェックエラーが発生したこと
* 入力チェックエラー紐付いたメッセージが出力されること
* DBより、入力チェックエラーが登録されていないこと

|===
